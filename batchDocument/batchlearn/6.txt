6、%

1、%是个ESCAPE字符，通常将之译为转义字符，但也有更形象的译名脱逸字符、逃逸字符等。也就是说%不仅仅将与其相关的特定字符串转义并替换为特定字符串，而且自身也会被“脱逸”。而且类似于C语言中的转义字符"\"，双%会转义并脱逸为单%，四%则脱为双%。

如果是 %a% 这种形式 ，就是变量的引用，
@echo off
set a=123   rem定义一个变量a 赋值为123
echo %a%    rem显示出变量a的值（如果不加% %系统会把a当字符处理了，不会当成变量的） 

%%i 这种变量是for 语句里面 特有的变量（还有一种是外部变量，接受外部参数的格式是%1 -%9  共9个变量），只有在批处理里面才写 两个 %% 号表示变量，cmd中只用 一个 % 号。反正只要你在批处理文件里面用 for，变量就用 %%。例如
批处理中的写法
for %%i in (1 2 3 4 5 ) do  echo %%i
为什么批处理中用两个 %%，其实是编译器编译的时候要屏蔽一个%

在cmd窗口中写法
for %i in (1 2 3 4 5 ) do  echo %i

现在说下外部变量，是系统制定的，只有9个，专门保存外部参数的，就是运行批处理时加的参数。只有 %1 %2  %3  %4 ...... %9

例1： 

@echo off 
echo  %1
echo  %2
echo  %3
echo  %4

将上面的代码复制到记事本。保存格式为 bat
现在怎样传递参数给这个批处理，如下
在开始》运行 里面输入 cmd 确定
在弹出来的窗口中 输入 上面 批处理文件 的 完全路径名，然后就加要传递的参数了 例如  
c:\text.bat aaaa  bbbb   cccc  dddd  eeeee（参数要紧跟（加一个空格）地址后面）
上面 aaaa  bbbb   cccc  dddd  eeeee
就是传递给 批处理 “参数”这些参数 会保存在 %1至 %9 这9个变量名，最多只能保存 9 个。运行下就知道了，上面批处理文件中 %1变量保存的是aaaa
%2 保存的是 bbbb  
%3 保存的是    cccc   
%4 保存的是   dddd  
%5 是  eeee 上面没有用到 %5变量 
【注意】有一个比较特殊的%0，它代表文件(有外部变量的文件)的路径
例2：C:根目录下一批处理文件名为t.bat，内容为: 

@echo off 

type %1 

type %2 

那么运行C:\t.bat a.txt b.txt 

%1 : 表示a.txt 

%2 : 表示b.txt 
于是上面的命令将顺序地显示a.txt和b.txt文件的内容。

【总结】外部变量的赋值，只能是在打开文件的命令后面加上变量的值

假如有一个文件b.bat,文件路径为D:\b.bat内容如下：(这个文件不能直接双击打开，因为有外部变量)
@echo off 
echo  %1
echo  %2
echo  %3
echo  %4

可能有三种赋值方法：
(1) 直接输入文件路径  例如D:\b.bat 1 2 3 4
(2) 用call调用文件    例如call D:\b.bat 1 2 3 4
(3) 用start启动文件   例如start D:\b.bat 1 2 3 4

【还有】%多用在文本截取和替换上(详情见set)
例如
%a:~1,2%  从a中第1位开始截取2位。。即第1第2位【第0位为a的第一个字符】
%a:a=2% 把a中所有a字符替换为2；

【另外】%%表示算数运算中的取余